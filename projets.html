<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Projets</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body class="projets">
  <header>
    <h1>ğŸš€ Projets</h1>
    <nav>
      <button onclick="location.href='dashboard.html'">ğŸ“Š Dashboard</button>
      <button onclick="location.href='vie-perso.html'">ğŸ“… Vie Perso</button>
      <button onclick="location.href='finance.html'">ğŸ’° Finance</button>
      <button onclick="location.href='objectifs.html'">ğŸ¯ Objectifs</button>
      <button onclick="location.href='projets.html'" class="active">ğŸš€ Projets</button>
      <button onclick="location.href='nutrition.html'">ğŸ½ï¸ Nutrition</button>
      <button onclick="location.href='notes.html'">ğŸ“ Notes</button>
    </nav>
    <button onclick="logout()" class="logout">ğŸšª DÃ©connexion</button>

    <!-- Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-analytics.js";
  import { getFirestore } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDxC--WywLZ13NZdiouncGLb8SaE-3GggQ",
    authDomain: "site-perso-b7c08.firebaseapp.com",
    databaseURL: "https://site-perso-b7c08-default-rtdb.firebaseio.com",
    projectId: "site-perso-b7c08",
    storageBucket: "site-perso-b7c08.firebasestorage.app",
    messagingSenderId: "1015317206704",
    appId: "1:1015317206704:web:19e1d3762bda8a7cf78d75",
    measurementId: "G-MMLMV2DPNT"
  };

  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const db = getFirestore(app);
  
  window.db = db;
</script>

<!-- Firebase Helpers -->
<script src="firebase-helpers.js"></script>
    
  </header>

  <main>
    <section class="info">
      <p id="current-date"></p>
      <div class="projects-overview">
        <div class="project-stat">
          <span class="stat-number" id="projects-total">0</span>
          <span class="stat-label">Projets</span>
        </div>
        <div class="project-stat">
          <span class="stat-number" id="projects-active">0</span>
          <span class="stat-label">En cours</span>
        </div>
        <div class="project-stat">
          <span class="stat-number" id="projects-completed">0</span>
          <span class="stat-label">TerminÃ©s</span>
        </div>
      </div>
    </section>

    <section>
      <h2>ğŸ“‹ Mes Projets</h2>
      <div class="projects-container" id="projects-container">
        <!-- Liste des projets -->
      </div>
      <button onclick="addProject()" class="add-btn">ğŸš€ Nouveau Projet</button>
    </section>

    <section>
      <h2>ğŸ“… Ã‰chÃ©ances Ã  Venir</h2>
      <div class="deadlines-container" id="deadlines-container">
        <!-- Ã‰chÃ©ances -->
      </div>
    </section>

    <div class="actions">
      <button onclick="saveProjects()" class="save">ğŸ’¾ Sauvegarder</button>
      <button onclick="downloadProjectsPDF()" class="download">ğŸ“Š TÃ©lÃ©charger Rapport</button>
      <button onclick="exportData()" class="export">ğŸ’¾ Export Complet</button>
    </div>
  </main>

  <script src="script.js"></script>
</body>
</html>
<script>
  // Mettre Ã  jour la navigation active
  document.addEventListener('DOMContentLoaded', function() {
      // Retirer la classe active de tous les boutons
      const navButtons = document.querySelectorAll('header nav button');
      navButtons.forEach(button => {
          button.classList.remove('active');
      });
      
      // Ajouter la classe active au bouton de la page actuelle
      const currentPage = window.location.pathname.split('/').pop();
      let activeButton = null;
      
      switch(currentPage) {
          case 'vie-perso.html':
              activeButton = document.querySelector('header nav button[onclick*="vie-perso"]');
              break;
          case 'finance.html':
              activeButton = document.querySelector('header nav button[onclick*="finance"]');
              break;
          case 'objectifs.html':
              activeButton = document.querySelector('header nav button[onclick*="objectifs"]');
              break;
          case 'projets.html':
              activeButton = document.querySelector('header nav button[onclick*="projets"]');
              break;
          case 'nutrition.html':
              activeButton = document.querySelector('header nav button[onclick*="nutrition"]');
              break;
          case 'dashboard.html':
              activeButton = document.querySelector('header nav button[onclick*="dashboard"]');
              break;
              case 'notes.html':
              activeButton = document.querySelector('header nav button[onclick*="notes"]');
              break;

      }
      
      if (activeButton) {
          activeButton.classList.add('active');
      }
  });

  </script>
